extends layout
block content
    div(ng-app='pages.sondage', ng-controller="SondageControleur")
        header.entete-sondage
            h1(ng-bind='sondage.name')

        .well
            h3 Participate :
            form(ng-controller="VoteControleur")
                .form-group
                    label(for="nom") Your name or nickname
                    input.form-control(type="text", placeholder="Enter name or nickname")


                label Proceed with your vote !
                div
                    h4 Available proposals
                    div(ng-repeat="proposition in propositions")
                        button.btn.btn-info(ng-click="votePour(proposition)") {{proposition.label}}
                            span.glyphicon.glyphicon-chevron-right


                div
                    h4 Your vote
                    div(ng-repeat="proposition in vote")
                        .btn-group
                            button.btn.btn-success(ng-click="annuleVotePour(proposition)")
                                span.glyphicon.glyphicon-chevron-left
                                | {{proposition.label}}
                            button.btn.btn-success(ng-if="!$first", ng-click="monte(proposition)")
                                span.glyphicon.glyphicon-chevron-up
                            button.btn.btn-success(ng-if="!$last", ng-click="descend(proposition)")
                                span.glyphicon.glyphicon-chevron-down

block js
    != renderJs("sondage")