include include/header-sondage
extends include/layout
block content
    div(ng-app='pages.sondage', ng-controller="SondageControleur")
        mixin headerSondage()

        .well
            h3 Participate :
            form(ng-controller="VoteControleur", ng-submit="valideVote()")
                .form-group
                    label(for="nom") Your name or nickname
                    input.form-control(type="text", placeholder="Enter name or nickname", ng-model="vote.name")


                label Proceed with your vote !
                div
                    h4 Available proposals
                    div(ng-repeat="proposition in propositions")
                        button.btn.btn-info(ng-click="votePour(proposition)") {{proposition.label}}
                            span.glyphicon.glyphicon-chevron-right


                div
                    h4 Your vote
                    div(ng-repeat="proposition in vote.proposals")
                        .btn-group
                            button.btn.btn-success(ng-click="annuleVotePour(proposition)")
                                span.glyphicon.glyphicon-chevron-left
                                | {{proposition.label}}
                            button.btn.btn-success(ng-if="!$first", ng-click="monte(proposition)")
                                span.glyphicon.glyphicon-chevron-up
                            button.btn.btn-success(ng-if="!$last", ng-click="descend(proposition)")
                                span.glyphicon.glyphicon-chevron-down

                button(type="submit").btn.btn-primary Vote !

block js
    != renderJs("sondage")