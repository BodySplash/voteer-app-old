include include/header-sondage
extends include/layout
block content
    div(ng-app='pages.sondage', ng-controller="SondageControleur")
        mixin headerSondage()

        .well
            h3 Participate :
            form(ng-controller="VoteControleur", ng-submit="valideVote()")
                .form-group
                    label(for="nom") Your name or nickname
                    input.form-control(type="text", placeholder="Enter name or nickname", ng-model="vote.name")


                label Proceed with your vote !
                .row
                    .col-md-8.col-md-offset-4
                        .row.participation
                            .col-md-3
                                label Available proposals
                                div(ng-repeat="proposition in propositions")
                                    a.btn.btn-info.btn-block(ng-click="votePour(proposition)") {{proposition.label}}
                                        span.glyphicon.glyphicon-chevron-right


                            .col-md-3
                                label Your vote
                                div(ng-repeat="proposition in vote.proposals")

                                    a.btn.btn-success(ng-click="annuleVotePour(proposition)")
                                        span.glyphicon.glyphicon-chevron-left
                                        | {{proposition.label}}
                                    .btn-group-vertical
                                        a.btn.btn-success.btn-xs(ng-if="!$first", ng-click="monte(proposition)")
                                            span.glyphicon.glyphicon-chevron-up
                                        a.btn.btn-success.btn-xs(ng-if="!$last", ng-click="descend(proposition)")
                                            span.glyphicon.glyphicon-chevron-down
                .clearfix
                .action
                    button(type="submit").btn.btn-primary.btn-lg Vote !

block js
    != renderJs("sondage")